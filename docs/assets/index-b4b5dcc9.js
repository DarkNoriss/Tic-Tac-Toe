(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const S=()=>{const o=new Array(9);return{setBoard:(c,e)=>o[c]=e,getBoard:c=>o[c]}},g=()=>{let o,a;return{setSign:t=>o=t,getSigh:()=>o,setScore:()=>a++}},h=document.querySelector(".app"),p=document.querySelector(".modalBegin"),w=document.querySelector(".modalEnd"),f=document.querySelector(".modalText"),O=document.querySelector(".btnX"),B=document.querySelector(".btnO"),b=document.querySelector(".btnAgain"),T=()=>{const o=S(),a=g(),s=g(),c=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];let e="playerOne",t="";const i=n=>{n.target.childNodes[0].innerText==""&&(e=="playerOne"?(n.target.childNodes[0].innerText=a.getSigh(),o.setBoard(n.target.id,a.getSigh()),e="playerTwo"):(n.target.childNodes[0].innerText=s.getSigh(),o.setBoard(n.target.id,s.getSigh()),e="playerOne"),m())},m=()=>{c.forEach(n=>{let r=0,l=0;n.forEach(u=>{if(o.getBoard(u)=="X"&&r++,o.getBoard(u)=="O"&&l++,r==3)return t="playerOne";if(l==3)return t="playerTwo"})}),t!=""&&y()},y=()=>{t=="playerOne"?(a.setScore(),f.innerText="Player one won!"):t=="playerTwo"&&(s.setScore(),f.innerText="Player two won!"),w.showModal()};return{playerOne:a,playerTwo:s,makeMove:i,clearBoard:()=>{document.querySelectorAll("#boardFragment").forEach(r=>{r.innerText=""});for(let r=0;r<9;r++)o.setBoard(r,"");e="playerOne",t=""},drawBoard:()=>{for(let n=0;n<9;n++){const r=document.createElement("div"),l=document.createElement("p");r.classList.add("board"),r.setAttribute("id",n),r.addEventListener("click",d.makeMove),l.setAttribute("id","boardFragment"),r.appendChild(l),h.appendChild(r)}}}},d=T();window.onload=()=>{O.addEventListener("click",()=>{d.playerOne.setSign("X"),d.playerTwo.setSign("O")}),B.addEventListener("click",()=>{d.playerOne.setSign("O"),d.playerTwo.setSign("X")}),b.addEventListener("click",()=>{d.clearBoard(),p.showModal()}),d.drawBoard(),p.showModal()};
